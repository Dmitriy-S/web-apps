<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">

<title>Local Storage API, Storing and Retrieving Simple Data, Arrays, Associative Arrays, and Objects</title>
</head>
<body align="center" style="margin: 10px auto; background-color: #d6d1db;">
<div id="check"></div>
Let's play with the loops and array
<div id="arr"></div>
<div id="stor"></div>


<h2 id="h1-2">Some JSON</h2>
<h4>Russian - English translator</h4>
<br>
<div id="1"></div><p id="one"></p>
<div id="2"></div><p id="two"></p>
<div id="3"></div><p id="three"></p>

<button onclick="json()">json parse</button>

<script>

if (typeof(Storage) !== "undefined") {
 
    localStorage.setItem("message", "Cangrads! Your browser support Web Storage! :)");

    document.getElementById("check").innerHTML = localStorage.getItem("message");

    localStorage.removeItem("message");


var x = []
for (var i = 0; i < 10; i++) {
	localStorage.setItem("number" + i, i);
	x[i] = i;
	document.getElementById("stor").innerHTML = localStorage.getItem("number" + i);
}

document.getElementById("arr").innerHTML = x;

function json(){
var json1L = '{"one":"один","two":"два","three":"три"}';

var json2L = '{"e1":"one is","e2":"two is","e3":"three is"}';



    localStorage.setItem('temp', json2L);
    localStorage.setItem('temp2', json1L);

var t;
var t2;

t = localStorage.getItem('temp');
t2 = localStorage.getItem('temp2');

var one = JSON.parse(t2);
var two = JSON.parse(t);



document.getElementById("one").innerHTML = one.one;
document.getElementById("two").innerHTML = one.two;
document.getElementById("three").innerHTML = one.three;

document.getElementById("1").innerHTML = two.e1;
document.getElementById("2").innerHTML = two.e2;
document.getElementById("3").innerHTML = two.e3;


}


} else {
    document.getElementById("check").innerHTML = "Sorry, your browser does not support Web Storage :(";
}

</script>


<p id="one2"></p>
<p id="two2"></p>
<p id="three2"></p>

<script type="text/javascript">
  function getJson() {


var xmlhttp = new XMLHttpRequest();
var url = "ajax4.txt";

xmlhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var json1 = JSON.parse(this.responseText);
        parsJson(json1);
    }
};
xmlhttp.open("GET", url, true);
xmlhttp.send();

}
function parsJson (json1){

if (typeof(Storage) !== "undefined") {
 
    localStorage.setItem('test', JSON.stringify(json1));

var x;
x = localStorage.getItem('test');



var y = JSON.parse(x);
document.getElementById("one2").innerHTML = y.one;
document.getElementById("two2").innerHTML = y.two;
document.getElementById("three2").innerHTML = y.three;



} else {
    document.getElementById("check").innerHTML = "Sorry, your browser does not support Web Storage :(";
}  
}

</script>
<button type="button" onclick="getJson()">JSON + Local Storage API</button>
</body>
</html>
